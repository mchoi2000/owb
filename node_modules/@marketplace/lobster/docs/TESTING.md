# Testing the Code

This document is to get you started on running and writing tests for the application.


## Prerequisites

The gulp-revalidator project source files set up with:

```
$ npm install
```


## Running the Unit Tests Suite

In the shell, run the unit tests by executing the command line:

```
$ npm test
```


## Running an Individual Unit Test

In the shell, run the unit test by executing the command line:

```
$ mocha ./test/<TEST FILE NAME>
```

For example, to run the gulp-content-validation_spec unit test, type this in the shell:

```
$ mocha ./test/coverage_info_spec.js
```


## Debugging the Unit Test Suite

1. In the shell, start node-inspector by executing the command line:

    ```
    $ node-inspector
    ```

2. In the shell, start the server by executing the command line:

    ```
    $ npm run-script debug-test
    ```

3. Open Google Chrome at this URL:

    [http://127.0.0.1:8080/?ws=127.0.0.1:8080&port=5858](http://127.0.0.1:8080/?ws=127.0.0.1:8080&port=5858)


## Writing Tests

Pull requests require 100% test coverage of the code base.  Coverage can be measured automatically by running the unit tests following the instructions under the section titled "Running An Individual Unit Test" above.  If the test coverage is not 100%, the test task will fail.

If test coverage fails, there will be information under the ./coverage directory that will indicate what portions are not covered, and need to be tested.

The project uses [Mocha](http://mochajs.org/) as the test runner to execute the tests, and all unit tests are located under the ./test subdirectory, while all the integration tests are found under the ./integration directory.


## Things to Keep In Mind

- Running the test suite also runs a suite of linting validators in addition to the tests themselves.
